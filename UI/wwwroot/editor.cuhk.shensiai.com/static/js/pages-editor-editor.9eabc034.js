(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-editor-editor"],{2105:function(e,t,n){"use strict";n.r(t);var i=n("9961"),c=n("2d55");for(var a in c)"default"!==a&&function(e){n.d(t,e,(function(){return c[e]}))}(a);n("8e3b");var o,s=n("f0c5"),r=Object(s["a"])(c["default"],i["b"],i["c"],!1,null,"2c95a838",null,!1,i["a"],o);t["default"]=r.exports},"2d55":function(e,t,n){"use strict";n.r(t);var i=n("3323"),c=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=c.a},3323:function(e,t,n){"use strict";(function(e){var i=n("dbce"),c=n("4ea4");n("4160"),n("c975"),n("d81d"),n("a434"),n("ac1f"),n("466d"),n("5319"),n("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("96cf");var a=c(n("1da1")),o=c(n("5530")),s=n("2f62"),r=c(n("a37a")),l=i(n("d70f")),d=n("8541"),u=n("7b0a"),p=n("cf17"),h=n("c3f4"),v=e.database(),m=v.command,b={computed:(0,o.default)({},(0,s.mapState)("user",["userInfo"])),data:function(){return{curtype:null,curobject:null,curtable:null,viewportInfo:null,topFov:45,objecttype:[],objectlist:[],center:null,tablevectices:[],tableZ:0,topScene:{scene:null,camera:null,renderer:null,raycaster:null,mesh:null,objects:[],transform:[]},editScene:{scene:null,camera:null,renderer:null,controls:null,mesh:null,objects:[]},selectedObject:0,project_id:null,server:"//editor.cuhk.shensiai.com"}},mounted:function(){var e=this;uni.showLoading({title:"正在加载场景",mask:!0}),v.collection("cuhk-scenes").aggregate().match({tables:m.neq("[]")}).sample({size:1}).end().then((function(t){e.curtable=t.result.data[0],e.getObjecttypelist()}))},onShow:function(){},methods:(0,o.default)((0,o.default)({},(0,s.mapMutations)({removeToken:function(e){e("user/REMOVE_TOKEN")}})),{},{logout:function(){this.removeToken(),uni.reLaunch({url:r.default.login.url})},reload:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.objectlist=[],e.curtype=null,e.curobject=null,e.project_id=null,v.collection("cuhk-scenes").aggregate().match({tables:m.neq("[]")}).sample({size:1}).end().then((function(t){e.curtable=t.result.data[0],e.getObjecttypelist(),e.loadTopScene(),e.loadEditScene()}));case 5:case"end":return t.stop()}}),t)})))()},quit:function(){var e=this;this.hasLogin?uni.showModal({title:this.$t("settings.tips"),content:this.$t("settings.exitLogin"),cancelText:this.$t("settings.cancelText"),confirmText:this.$t("settings.confirmText"),success:function(t){t.confirm&&(e.logout(),uni.redirectTo({url:"/pages/ucenter/login-page/index/index"}))},fail:function(){},complete:function(){}}):uni.redirectTo({url:"/pages/ucenter/login-page/index/index"})},changeObject:function(e,t){switch(e){case"scale":this.topScene.transform[this.selectedObject].scale=t;var n=.01*this.topScene.transform[this.selectedObject].scale;this.topScene.objects[this.selectedObject].scale.set(n,n,n),this.editScene.objects[this.selectedObject].scale.set(n,n,n),this.updateObject();break;case"position":this.topScene.objects[this.selectedObject].position.copy(this.topScene.transform[this.selectedObject].pos),this.editScene.objects[this.selectedObject].position.copy(this.topScene.transform[this.selectedObject].pos),this.updateObject();break;case"rotation":var i=this.topScene.transform[this.selectedObject].rotate;this.topScene.objects[this.selectedObject].rotation.set(i.x*Math.PI/180,i.y*Math.PI/180,i.z*Math.PI/180),this.editScene.objects[this.selectedObject].rotation.set(i.x*Math.PI/180,i.y*Math.PI/180,i.z*Math.PI/180);break}},updateObject:function(){var e=this,t=new l.Box3;t.expandByObject(this.topScene.objects[this.selectedObject]),console.log(t);var n=0,i=0,c=[],a=999;this.tablevectices.forEach((function(o){t.min.x<o.x&&o.x<t.max.x&&t.min.y<o.y&&o.y<t.max.y&&(o.z>n&&(n=o.z),c.push(o.z));var s=e.topScene.objects[e.selectedObject].position.distanceTo(o);s<a&&(i=o.z,a=s)})),0==n&&(console.log(i,c),n=i),this.topScene.transform[this.selectedObject].pos.z=this.topScene.transform[this.selectedObject].pos.z+n-t.min.z,this.topScene.objects[this.selectedObject].position.copy(this.topScene.transform[this.selectedObject].pos),this.editScene.objects[this.selectedObject].position.copy(this.topScene.transform[this.selectedObject].pos)},getObjecttypelist:function(){var e=this;v.collection("cuhk-object-type").aggregate().addFields({value:"$type_id",text:"$type_name_cn"}).match({tables:this.curtable.table_name}).sample({size:15}).end().then((function(t){e.objecttype=t.result.data}))},getObjectlist:function(e){var t=this;v.collection("cuhk-objects").aggregate().match({type:e.detail.value}).sample({size:10}).end().then((function(n){t.objectlist=[];for(var i=1;i<=n.result.data.length;i++)t.objectlist.push({value:i-1,text:e.detail.data.text+i,name:n.result.data[i-1].name,path:n.result.data[i-1].path})}))},deleteObject:function(){this.topScene.transform.splice(this.selectedObject,1),this.topScene.scene.remove(this.topScene.objects[this.selectedObject]),this.editScene.scene.remove(this.editScene.objects[this.selectedObject]),this.topScene.objects.splice(this.selectedObject,1),this.editScene.objects.splice(this.selectedObject,1);for(var e=0;e<this.topScene.transform.length;e++)this.topScene.transform[e].value=e;this.selectedObject>0&&this.selectedObject--},saveProject:function(){var e=this;0!=this.topScene.transform.length?(uni.showLoading({title:"正在保存中",mask:!0}),null==this.project_id?v.collection("cuhk-projects").add({scenename:this.curtable.scene_name,semantic:this.curtable.semantic,instance:this.curtable.instance,center:this.center,objectlist:JSON.stringify(this.topScene.transform)}).then((function(t){e.project_id=t.result.id,uni.hideLoading(),uni.showModal({title:"保存成功",showCancel:!1})})):v.collection("cuhk-projects").doc(this.project_id).update({objectlist:JSON.stringify(this.topScene.transform)}).then((function(e){uni.hideLoading(),uni.showModal({title:"保存成功",showCancel:!1})}))):uni.showModal({title:"请先添加物品模型再保存",showCancel:!1})},changeFov:function(e){this.topScene.camera.fov=e,this.topScene.camera.updateProjectionMatrix()},bindClick:function(e){e.preventDefault()},init:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=document.getElementById("topScene"),t.next=3,e.$utils.getElementInfo("topScene");case 3:e.viewportInfo=t.sent,e.initScene(n,e.topScene),i=document.getElementById("editScene"),e.initScene(i,e.editScene),window.addEventListener("resize",e.onWindowResize),e.loadTopScene(),e.loadEditScene(),e.updateScene();case 11:case"end":return t.stop()}}),t)})))()},initScene:function(e,t){var n=this;return(0,a.default)(regeneratorRuntime.mark((function i(){var c,a,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:c=n.viewportInfo.width/n.viewportInfo.height,t.renderer=new l.WebGLRenderer({antialias:!0}),t.renderer.setPixelRatio(window.devicePixelRatio),t.renderer.setSize(n.viewportInfo.width,n.viewportInfo.height),t.renderer.shadowMap.enabled=!0,e.appendChild(t.renderer.domElement),t.scene=new l.Scene,t.scene.background=new l.Color(10526880),t.camera=new l.PerspectiveCamera(50,c,.1,1e3),t.camera.position.set(4.353,3.818,1.723),t.camera.up=new l.Vector3(0,0,1),a=new l.HemisphereLight(16777215,4473924),a.position.set(0,200,0),t.scene.add(a),o=new l.DirectionalLight(16777215),o.position.set(0,200,100),o.castShadow=!0,o.shadow.camera.top=180,o.shadow.camera.bottom=-100,o.shadow.camera.left=-120,o.shadow.camera.right=120,t.scene.add(o);case 22:case"end":return i.stop()}}),i)})))()},loadEditScene:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:null!=e.editScene.mesh&&e.editScene.scene.remove(e.editScene.mesh),e.editScene.objects.map((function(t){e.editScene.scene.remove(t)})),e.editScene.objects=[],e.center=new l.Vector3(e.curtable.position.x,e.curtable.position.y,e.curtable.position.z),e.editScene.camera.lookAt(e.center),null==e.editScene.controls&&(e.editScene.controls=new h.OrbitControls(e.editScene.camera,e.editScene.renderer.domElement)),e.editScene.controls.target.set(e.curtable.position.x,e.curtable.position.y,e.curtable.position.z),e.editScene.controls.update(),e.editScene.camera.updateMatrixWorld(),e.editScene.camera.updateProjectionMatrix(),n=new d.PLYLoader,n.load(e.server+e.curtable.path,e.curtable.instance,(function(t){t.computeVertexNormals();var n=new l.MeshPhongMaterial({color:16777215,specular:273,shininess:10,vertexColors:l.VertexColors});e.editScene.mesh=new l.Mesh(t,n),e.editScene.mesh.position.set(0,0,0),e.editScene.mesh.scale.multiplyScalar(1),e.editScene.mesh.castShadow=!1,e.editScene.mesh.receiveShadow=!1,e.editScene.scene.add(e.editScene.mesh),uni.hideLoading()}));case 12:case"end":return t.stop()}}),t)})))()},loadTopScene:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:null!=e.topScene.mesh&&e.topScene.scene.remove(e.topScene.mesh),e.topScene.objects.map((function(t){e.topScene.scene.remove(t)})),e.topScene.objects=[],e.topScene.transform=[],e.topScene.raycaster=new l.Raycaster,e.topScene.camera.position.set(e.curtable.position.x,e.curtable.position.y,e.curtable.position.z+3),e.topScene.camera.lookAt(new l.Vector3(e.curtable.position.x,e.curtable.position.y,e.curtable.position.z)),e.topScene.camera.updateMatrixWorld(),n=new d.PLYLoader,n.load(e.server+e.curtable.path,e.curtable.instance,(function(t){t.computeVertexNormals();var n=new l.MeshPhongMaterial({color:16777215,specular:273,shininess:10,vertexColors:l.VertexColors});e.topScene.mesh=new l.Mesh(t,n),e.topScene.mesh.position.set(0,0,0),e.topScene.mesh.scale.multiplyScalar(1),e.topScene.mesh.castShadow=!1,e.topScene.mesh.receiveShadow=!1,e.topScene.scene.add(e.topScene.mesh),e.topScene.scene.updateMatrixWorld(!0);var i=t.attributes.tablevectices;e.tablevectices=[];for(var c=0;c<i.count;c++){var a=new l.Vector3(i.array[3*c],i.array[3*c+1],i.array[3*c+2]);a.applyMatrix4(e.topScene.mesh.matrixWorld),e.tablevectices.push(a)}}));case 10:case"end":return t.stop()}}),t)})))()},onWindowResize:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$utils.getElementInfo("topScene");case 2:e.viewportInfo=t.sent,n=e.viewportInfo.width/e.viewportInfo.height,e.topScene.camera.aspect=n,e.topScene.camera.updateProjectionMatrix(),e.topScene.renderer.setSize(e.viewportInfo.width,e.viewportInfo.height),e.editScene.camera.aspect=n,e.editScene.camera.updateProjectionMatrix(),e.editScene.renderer.setSize(e.viewportInfo.width,e.viewportInfo.height);case 10:case"end":return t.stop()}}),t)})))()},onTableClick:function(e){var t=this;if(null!=this.curobject||0!=this.topScene.objects.length){var n=e.changedTouches[0],i=n.clientX,c=n.clientY,a=new l.Vector2;a.x=(i-this.viewportInfo.left)/this.topScene.renderer.domElement.clientWidth*2-1,a.y=-(c-this.viewportInfo.top)/this.topScene.renderer.domElement.clientHeight*2+1,this.topScene.raycaster.setFromCamera(a,this.topScene.camera);var o=this.topScene.raycaster.intersectObject(this.topScene.mesh);o.length>0&&(this.tableZ=o[0].point.z,null!=this.curobject?(uni.showLoading({title:"正在添加物体",mask:!0}),this.objectlist[this.curobject].path.indexOf("ModelNet")>0&&(new u.OBJLoader).load(this.server+this.objectlist[this.curobject].path,(function(e){e.children[0].material.color.set(15251259),t.addObj(e,o[0].point)})),this.objectlist[this.curobject].path.indexOf("ShapeNet")>0&&(new p.MTLLoader).load(this.server+this.objectlist[this.curobject].path.replace(".obj",".mtl"),(function(e){e.preload(),(new u.OBJLoader).setMaterials(e).load(t.server+t.objectlist[t.curobject].path,(function(e){t.addObj(e,o[0].point)}))}))):(this.topScene.transform[this.selectedObject].pos.x=o[0].point.x,this.topScene.transform[this.selectedObject].pos.y=o[0].point.y,this.topScene.objects[this.selectedObject].position.set(0,0,0),this.topScene.objects[this.selectedObject].position.copy(this.topScene.transform[this.selectedObject].pos),this.editScene.objects[this.selectedObject].position.set(0,0,0),this.editScene.objects[this.selectedObject].position.copy(this.topScene.transform[this.selectedObject].pos),this.updateObject()))}else uni.showModal({title:"请先选择一个物品并确定",showCancel:!1})},updateScene:function(){requestAnimationFrame(this.updateScene),this.topScene.renderer.render(this.topScene.scene,this.topScene.camera),this.editScene.renderer.render(this.editScene.scene,this.editScene.camera)},addObj:function(e,t){this.selectedObject=this.topScene.transform.length,e.position.set(0,0,0),e.scale.set(.5,.5,.5),e.rotation.x=Math.PI/2;var n=new l.Box3;n.expandByObject(e),t.z=t.z-n.min.y,e.position.copy(t),this.topScene.scene.add(e),this.topScene.objects.push(e);var i=e.clone();this.editScene.scene.add(i),this.index++,this.topScene.transform.push({text:this.objectlist[this.curobject].text,value:this.selectedObject,name:this.objectlist[this.curobject].name,scale:50,pos:t,rotate:{x:90,y:0,z:0}}),this.editScene.objects.push(i),this.curobject=null,this.updateObject(),uni.hideLoading()}})};t.default=b}).call(this,n("a9ff")["default"])},"4f23":function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.content[data-v-2c95a838]{top:0;bottom:0;position:absolute;display:flex;flex-direction:column;width:100%;display:flex;flex-direction:column}.content .header[data-v-2c95a838]{padding:%?20?% %?30?%;width:100%;box-sizing:border-box;color:#666}.content .header .navbar[data-v-2c95a838]{font-size:14px;position:relative;height:100%;display:flex;justify-content:space-between;align-items:center}.content .header .logo[data-v-2c95a838]{display:flex;align-items:center}.content .header .logo uni-image[data-v-2c95a838]{height:30px}.content .header .logo uni-text[data-v-2c95a838]{margin-left:8px}.content .header .navbar-menu[data-v-2c95a838]{display:flex}.content .header .menu-item[data-v-2c95a838]{padding:8px;font-size:13px;color:#666;line-height:1}.content .header .navbar-middle[data-v-2c95a838]{display:flex;justify-content:flex-start;align-items:center}.content .bottom[data-v-2c95a838]{flex:1;display:flex}.content .bottom .left[data-v-2c95a838], .content .bottom .right[data-v-2c95a838]{width:10%;height:100%;padding:10px;background-color:#eee}.content .bottom .right[data-v-2c95a838]{display:flex;justify-content:space-between;flex-direction:column}.content .bottom .main[data-v-2c95a838]{width:40%;height:100%}.content .bottom .main .ctrlBar[data-v-2c95a838]{position:absolute;bottom:0;background-color:rgba(0,0,0,.5);width:38%;margin-left:1%;padding-top:10px;z-index:99}.content .bottom .main .ctrlBar-right[data-v-2c95a838]{left:51%}.ctrlItem[data-v-2c95a838]{width:100%;display:flex;align-items:center;align-content:center;margin-bottom:10px}.ctrlItem .title[data-v-2c95a838]{width:80px;color:#fff;text-align:center;font-size:10px;padding:0 10px}.ctrlItem .item-content[data-v-2c95a838]{flex:1}',""]),e.exports=t},"8e3b":function(e,t,n){"use strict";var i=n("b83f"),c=n.n(i);c.a},9961:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}));var i={uniIcons:n("df33").default,uniDataCheckbox:n("f6b0").default,uNumberBox:n("990b").default,uButton:n("162c").default,uLine:n("1c5a").default},c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"header"},[i("v-uni-view",{staticClass:"navbar"},[i("v-uni-view",{staticClass:"navbar-left"},[i("v-uni-view",{staticClass:"logo"},[i("v-uni-image",{attrs:{src:n("0800"),mode:"heightFix"}}),i("v-uni-text",[e._v("模型编辑系统")])],1)],1),i("v-uni-view",{staticClass:"navbar-middle"},[i("v-uni-view",[e._v("可选分类：")])],1),i("v-uni-view",{staticClass:"navbar-right pointer"},[i("v-uni-view",{staticClass:"navbar-menu"},[e.userInfo.username?[i("v-uni-view",{staticClass:"menu-item username"},[i("uni-icons",{staticClass:"person",attrs:{type:"person",color:"#666",size:"13"}}),i("v-uni-text",[e._v(e._s(e.userInfo.username))])],1),i("v-uni-view",{staticClass:"menu-item "},[i("v-uni-text",{staticClass:"logout pointer hover-highlight",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.logout.apply(void 0,arguments)}}},[e._v("退出")])],1)]:e._e(),i("v-uni-view",{staticClass:"popup-menu__arrow"})],2)],1)],1)],1),i("v-uni-view",{staticClass:"bottom"},[i("v-uni-view",{staticClass:"left"},[i("v-uni-view",{staticClass:"title"},[e._v("物品分类")]),i("uni-data-checkbox",{attrs:{mode:"list",localdata:e.objecttype},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.getObjectlist.apply(void 0,arguments)}},model:{value:e.curtype,callback:function(t){e.curtype=t},expression:"curtype"}})],1),i("v-uni-view",{staticClass:"main",attrs:{id:"topScene"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onTableClick.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"ctrlBar"},[i("v-uni-view",{staticClass:"ctrlItem"},[i("v-uni-view",{staticClass:"title"},[e._v("画面大小")]),i("v-uni-view",{staticClass:"item-content",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.bindClick.apply(void 0,arguments)}}},[i("v-uni-slider",{attrs:{min:0,"block-size":12,max:100,value:e.topFov},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.changeFov(t.detail.value)}}})],1)],1)],1)],1),i("v-uni-view",{staticClass:"main",attrs:{id:"editScene"}},[e.selectedObject<e.topScene.transform.length?i("v-uni-view",{staticClass:"ctrlBar"},[i("v-uni-view",{staticClass:"ctrlItem"},[i("v-uni-view",{staticClass:"title"},[e._v("物体大小")]),i("v-uni-view",{staticClass:"item-content"},[i("v-uni-slider",{attrs:{min:10,value:e.topScene.transform[e.selectedObject].scale,"block-size":12,max:200},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.changeObject("scale",t.detail.value)}}})],1)],1),i("v-uni-view",{staticClass:"ctrlItem"},[i("v-uni-view",{staticClass:"title"},[e._v("物体位移")]),i("v-uni-view",{staticClass:"item-content"},[i("v-uni-text",{staticClass:"title"},[e._v("X:")]),i("u-number-box",{attrs:{"input-width":100,step:.01,"positive-integer":!1},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.changeObject("position",t.value)}},model:{value:e.topScene.transform[e.selectedObject].pos.x,callback:function(t){e.$set(e.topScene.transform[e.selectedObject].pos,"x",t)},expression:"topScene.transform[selectedObject].pos.x"}}),i("v-uni-text",{staticClass:"title"},[e._v("Y:")]),i("u-number-box",{attrs:{"input-width":100,step:.01,"positive-integer":!1},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.changeObject("position",t.value)}},model:{value:e.topScene.transform[e.selectedObject].pos.y,callback:function(t){e.$set(e.topScene.transform[e.selectedObject].pos,"y",t)},expression:"topScene.transform[selectedObject].pos.y"}})],1)],1),i("v-uni-view",{staticClass:"ctrlItem"},[i("v-uni-view",{staticClass:"title"},[e._v("物体旋转")]),i("v-uni-view",{staticClass:"item-content"},[i("v-uni-text",{staticClass:"title"},[e._v("X:")]),i("u-number-box",{attrs:{"input-width":100,step:1,max:360},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.changeObject("rotation",t.value)}},model:{value:e.topScene.transform[e.selectedObject].rotate.x,callback:function(t){e.$set(e.topScene.transform[e.selectedObject].rotate,"x",t)},expression:"topScene.transform[selectedObject].rotate.x"}}),i("v-uni-text",{staticClass:"title"},[e._v("Y:")]),i("u-number-box",{attrs:{"input-width":100,step:1,max:360},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.changeObject("rotation",t.value)}},model:{value:e.topScene.transform[e.selectedObject].rotate.y,callback:function(t){e.$set(e.topScene.transform[e.selectedObject].rotate,"y",t)},expression:"topScene.transform[selectedObject].rotate.y"}}),i("v-uni-text",{staticClass:"title"},[e._v("Z:")]),i("u-number-box",{attrs:{"input-width":100,step:1,max:360},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.changeObject("rotation",t.value)}},model:{value:e.topScene.transform[e.selectedObject].rotate.z,callback:function(t){e.$set(e.topScene.transform[e.selectedObject].rotate,"z",t)},expression:"topScene.transform[selectedObject].rotate.z"}})],1)],1)],1):e._e()],1),i("v-uni-view",{staticClass:"right"},[i("v-uni-view",[i("v-uni-view",{staticClass:"title",staticStyle:{"margin-bottom":"30rpx"}},[e._v("已添加物体")]),i("uni-data-checkbox",{attrs:{mode:"list",icon:"right",localdata:e.topScene.transform},model:{value:e.selectedObject,callback:function(t){e.selectedObject=t},expression:"selectedObject"}}),i("u-button",{attrs:{type:"warning",disabled:0==e.topScene.transform.length},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.deleteObject.apply(void 0,arguments)}}},[e._v("删除选中")]),i("u-line",{attrs:{color:"blue",margin:"30rpx 0"}}),i("u-button",{attrs:{type:"primary",disabled:0==e.topScene.transform.length},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.saveProject.apply(void 0,arguments)}}},[e._v("保存")]),i("u-line",{attrs:{color:"blue",margin:"30rpx 0"}}),i("u-button",{attrs:{type:"success"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.reload.apply(void 0,arguments)}}},[e._v("刷新场景")])],1),i("v-uni-view",[i("u-line",{attrs:{color:"blue",margin:"30rpx 0"}}),i("u-button",{attrs:{type:"default"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.quit.apply(void 0,arguments)}}},[e._v("退出登录")])],1)],1)],1)],1)},a=[]},b83f:function(e,t,n){var i=n("4f23");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var c=n("4f06").default;c("36640164",i,!0,{sourceMap:!1,shadowMode:!1})}}]);